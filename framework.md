
# Router
Router 主要用来描述请求 URL 和具体承担执行动作的 Controller 的对应关系， 框架约定了 app/router.js 文件用于统一所有路由规则。
通过统一的配置，我们可以避免路由规则逻辑散落在多个地方，从而出现未知的冲突，集中在一起我们可以更方便的来查看全局的路由规则。

# Controller
简单的说 Controller 负责解析用户的输入，处理后返回相应的结果，例如

* 在 RESTful 接口中，Controller 接受用户的参数，从数据库中查找内容返回给用户或者将用户的请求更新到数据库中。
* 在 HTML 页面请求中，Controller 根据用户访问不同的 URL，渲染不同的模板得到 HTML 返回给用户。
* 在代理服务器中，Controller 将用户的请求转发到其他服务器上，并将其他服务器的处理结果返回给用户。

主要对用户的请求参数进行处理（校验、转换），然后调用对应的 service 方法处理业务，得到业务结果后封装并返回：

* 获取用户通过 HTTP 传递过来的请求参数。
* 校验、组装参数。
* 调用 Service 进行业务处理，必要时处理转换 Service 的返回结果，让它适应用户的需求。
* 通过 HTTP 将结果响应给用户。

# 服务 Service
简单来说，Service 就是在复杂业务场景下用于做业务逻辑封装的一个抽象层，提供这个抽象有以下几个好处：

* 保持 Controller 中的逻辑更加简洁。
* 保持业务逻辑的独立性，抽象出来的 Service 可以被多个 Controller 重复调用。
* 将逻辑和展现分离，更容易编写测试用例，测试用例的编写具体可以查看[这里](https://eggjs.org/zh-cn/core/unittest.html)。

# Plugin
一个插件其实就是一个『迷你的应用』，和应用（app）几乎一样：

* 它包含了 Service、中间件、配置、框架扩展等等。
* 它没有独立的 Router 和 Controller。
* 它没有 plugin.js，只能声明跟其他插件的依赖，而不能决定其他插件的开启与否。

# Schedule
虽然我们通过框架开发的 HTTP Server 是请求响应模型的，但是仍然还会有许多场景需要执行一些定时任务，例如：

* 定时上报应用状态。
* 定时从远程接口更新本地缓存。
* 定时进行文件切割、临时文件删除。